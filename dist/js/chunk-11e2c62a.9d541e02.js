(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11e2c62a"],{"0e23":function(o,c,n){"use strict";n.r(c);var t=function(){var o=this,c=o.$createElement,n=o._self._c||c;return n("div",{staticClass:"design-config"},[n("div",{staticClass:"background-tips"},[n("div",{staticClass:"background-font"},[o._v("背景")]),n("div",{directives:[{name:"show",rawName:"v-show",value:o.isBgChanged,expression:"isBgChanged"}],staticClass:"background-back",on:{click:o.resetBgInfoHandler}},[o._v("恢复原始背景")])]),o.isBackgroundColor?n("div",{staticClass:"background-color-pick"},[n("div",{staticClass:"background-color-panel"},[n("div",{staticClass:"background-color-panel-lable"},[o._v("背景色")]),n("VxColorPicker",{model:{value:o.backgroundColor,callback:function(c){o.backgroundColor=c},expression:"backgroundColor"}})],1)]):o._e(),o.isBackgroundColor?o._e():n("div",{staticClass:"background-color-image"},[n("div",{staticClass:"background-color-image-src"},[n("div",{style:o.style},[n("img",{style:"opacity:"+o.backgroundImageInfo.opacity,attrs:{src:o.backgroundImage}})])])]),o.isBackgroundColor?o._e():n("div",{staticClass:"background-color-image"},[n("div",{staticClass:"background-color-image-tool"},[n("div",{on:{click:function(c){return c.stopPropagation(),o.backgroundCut(c)}}},[o._v("裁剪")]),n("div",{on:{click:function(c){c.stopPropagation(),o.isShow=!o.isShow}}},[o._v("调色")])]),o.isShow?n("div",{staticClass:"background-color-image-color",on:{click:function(o){o.stopPropagation()}}},[n("div",{staticClass:"background-color-image-color-panel"},[n("div",{class:{active:o.isShowColor},on:{click:function(c){c.stopPropagation(),o.isShowColor=!0}}},[o._v("预选颜色")]),n("div",{class:{active:!o.isShowColor},on:{click:function(c){c.stopPropagation(),o.isShowColor=!1}}},[o._v("调色板")])]),o.isShowColor?n("div",{staticClass:"design-resource-bg__category"},[n("ul",{staticClass:"design-resource-bg__list"},[n("li",{staticClass:"design-resource-bg__item",on:{click:function(c){return c.stopPropagation(),o.setOrginBackgroundHandler(c)}}},[n("div",{staticClass:"design-resource-bg__item__color"},[o._v("原图")])]),o._l(o.bgColorList,(function(c,t){return n("li",{key:t,staticClass:"design-resource-bg__item",class:{"btn-tip":c.tip},attrs:{"aria-label":c.name}},[n("div",{staticClass:"design-resource-bg__item__color",class:{"design-resource-bg__item__border":c.border,"design-resource-bg__item__bg-img":c.bg},style:{backgroundColor:c.color},on:{click:function(n){return n.stopPropagation(),o.setBgColor(c.color)}}})])}))],2),n("div",{staticClass:"background-clor-image-pickerColor"},[n("div",{staticClass:"background-clor-image-pickerColor-label"},[o._v("调色强度")]),n("el-slider",{attrs:{"show-tooltip":!1,"input-size":"mini",min:0,max:100},model:{value:o.opacity,callback:function(c){o.opacity=c},expression:"opacity"}}),n("div",{staticClass:"background-clor-image-pickerColor-value"},[o._v(o._s(o.opacity)+"%")])],1)]):o._e(),o.isShowColor?o._e():n("div",{staticClass:"design-resource-bg__category"},[n("Sketch",{model:{value:o.color,callback:function(c){o.color=c},expression:"color"}})],1)]):o._e(),n("div",{staticClass:"background-color-image-tool"},[n("div",{on:{click:function(c){c.stopPropagation(),o.showRow=!o.showRow}}},[o._v("翻转")]),n("div",{on:{click:o.deleteBackgroundHandler}},[o._v("删除")])]),o.showRow?n("div",{staticClass:"background-color-image-row"},[n("div",{on:{click:function(c){return c.stopPropagation(),o.rotateYHandler(c)}}},[o._v("水平翻转")]),n("div",{on:{click:function(c){return c.stopPropagation(),o.rotateXHandler(c)}}},[o._v("垂直翻转")])]):o._e()]),n("div",{staticClass:"background-upload-image"},[n("div",{staticClass:"background-upload",on:{click:o.upload}},[o._v(" 上传背景图 ")])])])},a=[],r=(n("99af"),n("a9e3"),n("81ac")),i=n("8b8c"),e=n("c345a"),s=n("a10b"),l={name:"vx-background",components:{VxColorPicker:i["a"],Sketch:e["Sketch"]},data:function(){return{showMatching:!1,isShow:!1,isShowColor:!0,isShowColorPicker:!0,color:{},showRow:!1,bgColorList:[{color:"#000",name:"黑色"},{color:"#999",name:"灰色"},{color:"#ccc",name:"浅灰色"},{color:"#fff",name:"白色",border:!0},{color:"#00000000",name:"透明色",border:!0,bg:!0,tip:!0},{color:"#e65353",name:"红色"},{color:"#ffd835",name:"黄色"},{color:"#70bc59",name:"绿色"},{color:"#50E3C2",name:"青色"},{color:"#607af4",name:"蓝色"},{color:"#976bee",name:"紫色"}]}},props:{index:{type:Number}},watch:{"color.hex8":function(o){r["c"].layout.backgroundColor=o}},mounted:function(){var o=this;window.addEventListener("click",(function(){o.showRow=!1,o.isShow=!1}))},computed:{bgImgInfo:function(){return r["c"].layout.backgroundImageInfo},style:function(){var o=this.bgImgInfo&&this.bgImgInfo.transform||{a:0,b:0,c:0,tx:0,ty:0};return{transform:"matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.tx,",").concat(o.ty,")"),"background-color":r["c"].layout.backgroundColor,width:"100%",height:"100%",display:"flex","justify-content":"center","align-items":"center"}},opacity:{get:function(){return Math.round(100*(1-r["c"].layout.backgroundImageInfo.opacity))},set:function(o){r["c"].layout.backgroundImageInfo.opacity=1-o/100}},backgroundColor:{get:function(){return r["c"].layout.backgroundColor},set:function(o){r["c"].layout.backgroundColor=o}},isBackgroundColor:function(){return null==r["c"].layout.backgroundImage},backgroundImage:function(){return r["c"].layout.backgroundImage},isBgChanged:function(){return r["a"].bgIsInit()},backgroundImageInfo:function(){return r["c"].layout.backgroundImageInfo}},methods:{colorHandler:function(o){r["c"].layout.backgroundColor=o},upload:function(){this.$upload().then((function(o){r["b"].setbackgroundImage(o.url)})).catch((function(o){s["c"].danger(o)}))},resetBgInfoHandler:function(){r["b"].resetBgInfo()},deleteBackgroundHandler:function(){r["c"].layout.backgroundImage=null},setBgColor:function(o){r["b"].setBgColor(o)},setOrginBackgroundHandler:function(){r["c"].layout.backgroundColor=""},rotateYHandler:function(){r["b"].rotateBgY()},rotateXHandler:function(){r["b"].rotateBgX()},backgroundCut:function(){r["b"].setCutBackgroundAble(!0)},stopHandler:function(){}}},u=l,d=n("2877"),g=Object(d["a"])(u,t,a,!1,null,null,null);c["default"]=g.exports},"8b8c":function(o,c,n){"use strict";var t=function(){var o=this,c=o.$createElement,n=o._self._c||c;return n("div",{staticClass:"vx-color-picker vx-color-transparent"},[n("span",{staticClass:"vx-color-context",class:{"vx-color-transparent":"#00000000"===o.color.hex8},style:{background:"#00000000"===o.color.hex8?"":o.color.hex8},on:{click:function(c){c.stopPropagation(),o.show=!o.show}}}),o.show?n("span",{staticClass:"vx-color-select",on:{click:function(o){o.stopPropagation()}}},[n("Photoshop",{staticClass:"vx-color-select__panel",model:{value:o.color,callback:function(c){o.color=c},expression:"color"}})],1):o._e()])},a=[],r=n("c345a"),i={name:"vx-color-picker",components:{Photoshop:r["Sketch"]},props:{value:String},mounted:function(){var o=this;window.addEventListener("click",(function(){o.show=!1}))},data:function(){return{show:!1,color:{hex8:this.value}}},watch:{color:function(o){this.$emit("input",o.hex8)},value:function(o){this.color.hex8=o}}},e=i,s=n("2877"),l=Object(s["a"])(e,t,a,!1,null,null,null);c["a"]=l.exports}}]);