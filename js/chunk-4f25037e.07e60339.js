(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f25037e"],{"38e3":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vx-template",{staticClass:"design-resource-background",scopedSlots:e._u([{key:"label",fn:function(){return[n("h2",[e._v("背景")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isBgChanged,expression:"isBgChanged"}],staticClass:"reset-bg",on:{click:e.resetBgInfoHandler}},[e._v("恢复原始背景")])]},proxy:!0}])},[[n("div",{staticClass:"design-resource__scroll__content"},[n("div",{staticClass:"design-resource-bg__category"},[n("ul",{staticClass:"design-resource-bg__list"},[n("li",{staticClass:"design-resource-bg__item"},[n("div",{staticClass:"design-resource-bg__item__color design-resource-bg__item__color--bg",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.isShow=!e.isShow}}},[n("vx-color",{on:{select:e.setBgColor},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}})],1)]),e._l(e.bgColorList,(function(t,o){return n("li",{key:o,staticClass:"design-resource-bg__item",class:{"btn-tip":t.tip},attrs:{"aria-label":t.name}},[n("div",{staticClass:"design-resource-bg__item__color",class:{"design-resource-bg__item__border":t.border,"design-resource-bg__item__bg-img":t.bg},style:{backgroundColor:t.color},on:{click:function(n){return n.target!==n.currentTarget?null:e.setBgColor(t.color)}}})])}))],2)]),n("div",{staticClass:"design-resource-bg__category"},[n("ul",{staticClass:"design-resource-bg__list"},e._l(e.templateList,(function(t,o){return n("li",{key:o,staticClass:"design-resource-bg__list__item design-resource-bg__list__item-hover",on:{click:function(n){return e.setBgImg(t.id)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.typefacePath,expression:"item.typefacePath"}]})])})),0)]),e.loading?n("VxLoading"):e._e(),e.noMore?n("p",{staticClass:"nomore-text"},[e._v("已全部加载完")]):e._e(),n("div",{staticClass:"load-bottom",attrs:{id:"background-bottom"}})],1)]],2)},s=[],a=(n("99af"),n("96cf"),n("1da1")),i=n("81ac"),r=n("a10b"),c=n("63e6"),l=n("8261"),u={name:"vx-design-background",components:{VxTemplate:c["a"],VxColor:l["a"]},data:function(){return{templateList:[],loading:!0,pageNum:1,totalPages:2,l:0,t:0,isShow:!1,bgColorList:[{color:"#000",name:"黑色"},{color:"#999",name:"灰色"},{color:"#ccc",name:"浅灰色"},{color:"#fff",name:"白色",border:!0},{color:"#00000000",name:"透明色",border:!0,bg:!0,tip:!0},{color:"#e65353",name:"红色"},{color:"#ffd835",name:"黄色"},{color:"#70bc59",name:"绿色"},{color:"#50E3C2",name:"青色"},{color:"#607af4",name:"蓝色"},{color:"#976bee",name:"紫色"}]}},computed:{noMore:function(){return this.pageNum>this.totalPages},isBgChanged:function(){return i["a"].bgIsInit()}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.scrollData();case 2:e.getDataHandler();case 3:case"end":return t.stop()}}),t)})))()},methods:{scrollData:function(){var e=this,t=new IntersectionObserver((function(t){var n=t[0];n.isIntersecting&&(e.noMore||e.getDataHandler())}));t.observe(document.getElementById("background-bottom"))},getDataHandler:function(){var e=this;this.loading=!0;var t={page:this.pageNum,limit:25,type:"bg"};this.$axios.get(r["a"].EFFECTS_API,{params:t}).then((function(t){e.totalPages=t.data.pages,e.loading=!1,e.templateList=e.templateList.concat(t.data.list),e.pageNum++})).catch((function(e){r["c"].danger(e)}))},resetBgInfoHandler:function(){i["b"].resetBgInfo()},setBgColor:function(e){i["b"].setBgColor(e)},setBgImg:function(e){var t=this,n={id:e};this.$axios.get(r["a"].EFFECT_DETAIL_API,{params:n}).then((function(e){i["b"].setBgImg(e.data.info.detail),t.$emit("select")})).catch((function(e){r["c"].danger(e)}))}}},g=u,d=n("2877"),f=Object(d["a"])(g,o,s,!1,null,null,null);t["default"]=f.exports},"63e6":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"design-resource"},[e.$slots.label?n("div",{staticClass:"design-resource__label"},[e._t("label")],2):e._e(),n("div",{staticClass:"design-resource__content"},[e._t("default")],2)])},s=[],a={name:"vx-resource"},i=a,r=n("2877"),c=Object(r["a"])(i,o,s,!1,null,null,null);t["a"]=c.exports},8261:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vx-color"},[e.isShow?n("div",{staticClass:"vx-color-select",on:{click:function(e){e.stopPropagation()}}},[n("Sketch",{staticClass:"vx-color-panel",model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1):e._e()])},s=[],a=n("c345a"),i={name:"vx-color",props:{value:Boolean},data:function(){return{color:{hex8:"#ffffffff"},isShow:this.value}},components:{Sketch:a["Sketch"]},mounted:function(){window.addEventListener("click",this.hideSelectHandler)},methods:{hideSelectHandler:function(){this.isShow=!1}},watch:{isShow:function(e){var t=this;this.$nextTick((function(){t.$emit("input",e)}))},value:function(e){this.isShow=e},"color.hex8":function(e){this.$emit("select",e)}}},r=i,c=(n("a618"),n("2877")),l=Object(c["a"])(r,o,s,!1,null,"5e49058f",null);t["a"]=l.exports},"91d0":function(e,t,n){},a618:function(e,t,n){"use strict";var o=n("91d0"),s=n.n(o);s.a}}]);