(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-941d34c2"],{"486d":function(e,t,n){"use strict";var i=n("d5f1"),l=n.n(i);l.a},"7db0":function(e,t,n){"use strict";var i=n("23e7"),l=n("b727").find,s=n("44d2"),a=n("ae40"),o="find",c=!0,r=a(o);o in[]&&Array(1)[o]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!r},{find:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},"8b8c":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vx-color-picker vx-color-transparent"},[n("span",{staticClass:"vx-color-context",class:{"vx-color-transparent":"#00000000"===e.color.hex8},style:{background:"#00000000"===e.color.hex8?"":e.color.hex8},on:{click:function(t){t.stopPropagation(),e.show=!e.show}}}),e.show?n("span",{staticClass:"vx-color-select",on:{click:function(e){e.stopPropagation()}}},[n("Photoshop",{staticClass:"vx-color-select__panel",model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1):e._e()])},l=[],s=n("c345a"),a={name:"vx-color-picker",components:{Photoshop:s["Sketch"]},props:{value:String},mounted:function(){var e=this;window.addEventListener("click",(function(){e.show=!1}))},data:function(){return{show:!1,color:{hex8:this.value}}},watch:{color:function(e){this.$emit("input",e.hex8)},value:function(e){this.color.hex8=e}}},o=a,c=n("2877"),r=Object(c["a"])(o,i,l,!1,null,null,null);t["a"]=r.exports},d5f1:function(e,t,n){},e4f3:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"design-config"},[n("div",{class:{"image-disable":e.locked}},[n("div",{staticClass:"font-panel"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isGroup,expression:"!isGroup"}],staticClass:"font-dropdown-effect-preview",on:{click:e.getFontStyle}},[n("span",{style:e.fontStyles},[e._v("样式")]),n("span",{staticClass:"font-panel-icon"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.popupShow&&!e.isGroup,expression:"popupShow && !isGroup"}],staticClass:"font-popup"},[n("ul",[n("li",{class:{"font-popup-selected":null==e.sel},on:{click:function(t){return e.changeStyleHandler(null,null)}}},[e._v(" 无样式 ")]),e._l(e.effectList,(function(t,i){return n("li",{key:i,class:{"font-popup-selected":e.sel==i},style:{"background-image":"url("+t.typefacePath+")"},on:{click:function(n){return e.changeStyleHandler(t.id,i)}}})}))],2)]),e.colorbox?n("div",{staticClass:"font-panel-image"},[n("div",{staticClass:"font-panel-label"},[n("div",[e._v("颜色")]),n("vx-icon",{attrs:{name:"fill-color"}})],1),n("VxColorPicker",{staticClass:"font-color-picker",attrs:{value:e.fontColor},model:{value:e.fontColor,callback:function(t){e.fontColor=t},expression:"fontColor"}})],1):e._e()]),n("div",{staticClass:"font-text"},[n("div",{staticClass:"font-text-lable"},[e._v("文字")]),n("div",{staticClass:"font-text-family",on:{click:e.showFontFamilyHandler}},[n("div",{staticClass:"font-text-family-lable"},[e._v(e._s(e.fontFamily))]),n("div",{staticClass:"font-text-family-icon"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.fontFamilyShow,expression:"fontFamilyShow"}],staticClass:"font-family-lists"},[n("div",{staticClass:"font-family-tabs"},[n("div",{staticClass:"font-family-tab"},[n("div",{class:{active:"cn"==e.selFontFamily},on:{click:function(t){t.stopPropagation(),e.selFontFamily="cn"}}},[e._v(" 中文 ")]),n("div",{class:{active:"en"==e.selFontFamily},on:{click:function(t){t.stopPropagation(),e.selFontFamily="en"}}},[e._v(" 英文 ")])])]),e._m(0),n("ul",e._l(e.fontFamilyList,(function(t,i){return n("li",{key:i,staticClass:"font-family-item",style:{"background-image":"url("+t.typefacePath+")"},on:{click:function(n){return e.fontFamilyHandler(t.id)}}})})),0)]),n("div",{staticClass:"font-text-family"},[n("vx-icon",{class:{active:e.isBold},attrs:{title:"加粗",name:"blod"},nativeOn:{click:function(t){e.isBold=!e.isBold}}}),n("vx-icon",{class:{active:e.isItalic},attrs:{title:"斜体",name:"italic"},nativeOn:{click:function(t){e.isItalic=!e.isItalic}}}),n("vx-icon",{class:{active:e.isUnderline},attrs:{title:"下划线",name:"underline"},nativeOn:{click:function(t){e.isUnderline=!e.isUnderline}}}),n("vx-icon",{class:{active:e.isDeleteline},attrs:{title:"删除线",name:"deleteline"},nativeOn:{click:function(t){e.isDeleteline=!e.isDeleteline}}})],1),n("div",{staticClass:"font-text-family"},[n("vx-icon",{staticClass:"font-text-alignicon",attrs:{name:e.textAlignValue}}),n("div",{staticClass:"font-text-align"},[n("ul",e._l(e.textAlign,(function(t,i){return n("li",{key:i,on:{click:function(n){return e.textAlignHandler(t)}}},[n("vx-icon",{attrs:{name:t.icon}}),e._v(" "+e._s(t.lable)+" ")],1)})),0)]),n("vx-icon",{attrs:{title:"文字方向",name:"text-direction"},nativeOn:{click:function(t){return e.textDirectionHandler(t)}}}),n("vx-icon",{staticClass:"font-wordSpace",attrs:{name:"word-space"}}),n("div",{staticClass:"font-word-space"},[n("div",{staticClass:"lable"},[e._v("字间距")]),n("div",{staticClass:"slider"},[n("el-slider",{attrs:{min:-50,max:120},model:{value:e.wordSpace,callback:function(t){e.wordSpace=t},expression:"wordSpace"}})],1),n("div",{staticClass:"value"},[e._v(e._s(e.wordSpace))])]),n("vx-icon",{staticClass:"font-lineSpace",attrs:{name:"line-space"}}),n("div",{staticClass:"font-word-space"},[n("div",{staticClass:"lable"},[e._v("行间距")]),n("div",{staticClass:"slider"},[n("el-slider",{attrs:{min:1,max:50},model:{value:e.lineSpace,callback:function(t){e.lineSpace=t},expression:"lineSpace"}})],1),n("div",{staticClass:"value"},[e._v(e._s(e.lineSpace))])])],1),n("vx-select",{attrs:{minValue:12,maxValue:500},on:{edit:e.editAbleHandler},scopedSlots:e._u([{key:"label",fn:function(){return[n("p",{staticClass:"fontsizeBox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.fontSize,expression:"fontSize"}],attrs:{type:"number"},domProps:{value:e.fontSize},on:{input:function(t){t.target.composing||(e.fontSize=t.target.value)}}}),n("span",[e._v("px")])])]},proxy:!0}]),model:{value:e.fontSize,callback:function(t){e.fontSize=t},expression:"fontSize"}},e._l(e.fontsizeList,(function(e){return n("vx-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1),n("div",{staticClass:"font-text-range"},[n("div",{staticClass:"font-range-input"},[n("div",{staticClass:"font-range-lable"},[e._v("不透明")]),n("div",{staticClass:"font-range"},[n("el-slider",{attrs:{min:0,max:10},model:{value:e.fontRange,callback:function(t){e.fontRange=t},expression:"fontRange"}})],1),n("div",{staticClass:"font-range-value"},[e._v(e._s(e.fontRange))])])])],1)])])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"font-family-label"},[n("span",[e._v("当前模板字体")])])}],s=(n("99af"),n("7db0"),n("b0c0"),n("a9e3"),n("b64b"),n("2909")),a=n("81ac"),o=n("a10b"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vx-select"},[n("div",{staticClass:"vx-select-input",class:{active:e.active},on:{click:function(t){return t.stopPropagation(),e.showSelectListHandler(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isInput,expression:"!isInput"}],on:{dblclick:e.showInputHandler}},[e.$slots.label?[e._t("label")]:n("span",[e._v(e._s(e.selected))])],2),n("input",{directives:[{name:"show",rawName:"v-show",value:e.isInput,expression:"isInput"},{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],ref:"input",attrs:{type:"text"},domProps:{value:e.selected},on:{blur:e.hideInputHandler,input:function(t){t.target.composing||(e.selected=t.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSelectList,expression:"isShowSelectList"}],staticClass:"vx-select-content"},[n("ul",{staticClass:"vx-select-list"},[e._t("default")],2)])])},r=[];n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var d={name:"vx-select",props:{value:[Number,String],minValue:Number,maxValue:Number},data:function(){return{selected:this.value,isShowSelectList:!1,isInput:!1,type:null,active:!1}},mounted:function(){window.removeEventListener("click",this.hideSelectListHandler),window.addEventListener("click",this.hideSelectListHandler)},methods:{showSelectListHandler:function(){this.isShowSelectList=!0,this.active=!0},hideSelectListHandler:function(){this.isShowSelectList=!1,this.isInput=!1,this.active=!1},selectHandler:function(e){this.selected=e,this.hideSelectListHandler()},showInputHandler:function(){var e=this;this.isInput=!0,this.active=!0,this.$nextTick((function(){e.$refs.input.focus(),e.$emit("edit")}))},hideInputHandler:function(){this.isInput=!1,this.active=!1;var e=this.selected;""!==e&&(e<this.minValue?(this.$emit("input",this.minValue),this.selected=this.minValue):e>this.maxValue?(this.$emit("input",this.maxValue),this.selected=this.maxValue):(this.$emit("input",e),this.selected=e))}},watch:{selected:function(e){if(u(e)===this.type)this.$emit("input",e);else{if(""===e)return void this.$emit("input","");if("number"===this.type){if(/^\d+/.test(e)){var t=parseInt(e);this.$emit("input",t),this.selected=t}else this.$emit("input",""),this.selected="";return}this.$emit("input",e)}},value:function(e){this.selected=e}}},f=d,m=n("2877"),h=Object(m["a"])(f,c,r,!1,null,null,null),p=h.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"vx-option",class:{active:e.active},on:{click:e.selectHandler}},[e.$slots.default?[e._t("default")]:n("span",[e._v(e._s(e.label))])],2)},x=[],y={name:"vx-option",props:{value:{},label:[String,Number]},computed:{active:function(){return this.$parent.selected===this.value}},mounted:function(){this.$parent.type=u(this.value)},methods:{selectHandler:function(){this.$parent.selectHandler(this.value)}}},g=y,b=Object(m["a"])(g,v,x,!1,null,null,null),S=b.exports,w=n("8b8c"),F={name:"vx-fontStyle",components:{VxColorPicker:w["a"],VxSelect:p,VxOption:S},props:{index:{type:Number},elementIndex:{type:Number},isGroup:{type:Boolean}},data:function(){return{colorbox:!0,sizeShow:!1,popupShow:!1,fontStyles:{},sel:0,effectTab:0,fontStyle:"无样式",selFontFamily:"cn",fontFamilyShow:!1,textAlignValue:"text-left",effectList:[],effectTabs:[{name:"平面样式"},{name:"3D样式"}],textAlign:[{icon:"text-left",lable:"左对齐",value:"left"},{icon:"text-center",lable:"居中",value:"center"},{icon:"text-right",lable:"右对齐",value:"right"}],fontsizeList:[{value:12,label:"12px"},{value:14,label:"14px"},{value:16,label:"16px"},{value:18,label:"18px"},{value:22,label:"22px"},{value:24,label:"24px"},{value:32,label:"32px"},{value:42,label:"42px"},{value:48,label:"48px"},{value:64,label:"64px"},{value:72,label:"72px"},{value:88,label:"88px"},{value:128,label:"128px"}],fontFamilyList:[]}},computed:{fontFamily:{get:function(){var e=this;if(this.isGroup){var t=this.fontFamilyList.find((function(t){return t.name==a["c"].layout.elements[e.index].elements[e.elementIndex].fontFamily}));return t?t.name:a["c"].layout.elements[this.index].elements[this.elementIndex].fontFamily}var n=this.fontFamilyList.find((function(t){return t.name==a["c"].layout.elements[e.index].fontFamily}));return n?n.name:a["c"].layout.elements[this.index].fontFamily},set:function(e){this.isGroup?(a["c"].layout.elements[this.index].elements[this.elementIndex].fontFamily=e,a["c"].layout.elements[this.index].elements[this.elementIndex].lineHeight=1):(a["c"].layout.elements[this.index].fontFamily=e,a["c"].layout.elements[this.index].lineHeight=1)}},locked:function(){return a["c"].layout.elements[this.index].lock},fontSize:{get:function(){return this.isGroup?Math.round(a["c"].layout.elements[this.index].elements[this.elementIndex].fontSize):Math.round(a["c"].layout.elements[this.index].fontSize)},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].fontSize=e:a["c"].layout.elements[this.index].fontSize=e}},fontColor:{get:function(){return this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].color:a["c"].layout.elements[this.index].color},set:function(e){this.isGroup,a["c"].layout.elements[this.index].color=e}},isBold:{get:function(){return this.isGroup?400!==a["c"].layout.elements[this.index].elements[this.elementIndex].fontWeight:400!==a["c"].layout.elements[this.index].fontWeight},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].fontWeight=e?800:400:a["c"].layout.elements[this.index].fontWeight=e?800:400}},isUnderline:{get:function(){return this.isGroup?"underline"===a["c"].layout.elements[this.index].elements[this.elementIndex].textDecoration:"underline"===a["c"].layout.elements[this.index].textDecoration},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].textDecoration=e?"underline":"none":a["c"].layout.elements[this.index].textDecoration=e?"underline":"none"}},isItalic:{get:function(){return this.isGroup?"italic"==a["c"].layout.elements[this.index].elements[this.elementIndex].fontStyle:"italic"==a["c"].layout.elements[this.index].fontStyle},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].fontStyle=e?"italic":"normal":a["c"].layout.elements[this.index].fontStyle=e?"italic":"normal"}},isDeleteline:{get:function(){return this.isGroup?"line-through"===a["c"].layout.elements[this.index].elements[this.elementIndex].textDecoration:"line-through"===a["c"].layout.elements[this.index].textDecoration},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].textDecoration=e?"line-through":"none":a["c"].layout.elements[this.index].textDecoration=e?"line-through":"none"}},fontRange:{get:function(){return this.isGroup?Math.round(10*a["c"].layout.elements[this.index].elements[this.elementIndex].opacity):Math.round(10*a["c"].layout.elements[this.index].opacity)},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].opacity=e/10:a["c"].layout.elements[this.index].opacity=e/10}},lineSpace:{get:function(){return this.isGroup?Math.round(10*a["c"].layout.elements[this.index].elements[this.elementIndex].lineHeight):Math.round(10*a["c"].layout.elements[this.index].lineHeight)},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].lineHeight=e/10:a["c"].layout.elements[this.index].lineHeight=e/10}},wordSpace:{get:function(){return this.isGroup?Math.round(a["c"].layout.elements[this.index].elements[this.elementIndex].letterSpacing):Math.round(a["c"].layout.elements[this.index].letterSpacing)},set:function(e){this.isGroup?a["c"].layout.elements[this.index].elements[this.elementIndex].letterSpacing=e:a["c"].layout.elements[this.index].letterSpacing=e}}},created:function(){this.getFontFamily()},methods:{editAbleHandler:function(){a["b"].updateCurrentEdit(!0)},getFontStyle:function(){var e=this;if(!this.popupShow){var t={page:1,limit:100,type:"font_effect"};this.$axios.get(o["a"].EFFECTS_API,{params:t}).then((function(t){e.effectList=Object(s["a"])(t.data.list)}))}this.popupShow=!this.popupShow},getFontFamily:function(){var e=this,t={page:1,limit:100,type:"font"};this.$axios.get(o["a"].EFFECTS_API,{params:t}).then((function(t){e.fontFamilyList=Object(s["a"])(t.data.list)}))},changeStyleHandler:function(e,t){var n=this;if(e){var i={id:e};this.$axios.get(o["a"].EFFECT_DETAIL_API,{params:i}).then((function(e){var t=JSON.parse(e.data.info.detail);a["c"].layout.elements[n.index].fontFamily=t.model.fontFamily;var i={name:t.model.fontFamily};n.$axios.get(o["a"].FONT_DETAIL_API,{params:i}).then((function(e){if(0==Object.keys(e.data).length)n.$message({message:"默认显示宋体",type:"warning"});else{var t=document.createElement("style");t.type="text/css",t.innerText="@font-face {font-family:".concat(e.data.info.name,";src:url(").concat(e.data.info.detail,")}"),document.getElementsByTagName("head")[0].appendChild(t)}})),1===t.model.textEffects[0].filling.type||2===t.model.textEffects[0].filling.type?n.colorbox=!1:n.colorbox=!0,t.model.textEffects&&(a["c"].layout.elements[n.index].textEffects=Object(s["a"])(t.model.textEffects),a["c"].layout.elements[n.index].color=a["c"].layout.elements[n.index].textEffects[0].filling.color.substring(0,7))}))}else a["c"].layout.elements[this.index].textEffects=[].concat();this.sel=t,this.popupShow=!1},changeEffectTabHandler:function(e,t){this.effectTab=t},textAlignHandler:function(e){this.textAlignValue=e.icon,a["c"].layout.elements[this.index].textAlign=e.value},fontFamilyHandler:function(e){var t=this,n={id:e};this.$axios(o["a"].EFFECT_DETAIL_API,{params:n}).then((function(e){t.fontFamily=e.data.info.name,t.setFontStyle(e.data.info),t.fontFamilyShow=!1}))},setFontStyle:function(e){var t=document.createElement("style");t.type="text/css",t.innerText="@font-face {font-family:".concat(e.name,";src:url(").concat(e.detail,")}"),document.getElementsByTagName("head")[0].appendChild(t)},showFontFamilyHandler:function(){var e=this;this.fontFamilyShow=!this.fontFamilyShow,this.fontFamilyShow&&setTimeout((function(){window.addEventListener("click",e.hideFontFamilyHandler)}),0)},hideFontFamilyHandler:function(){this.fontFamilyShow=!1,window.removeEventListener("click",this.hideFontFamilyHandler)},textDirectionHandler:function(){"horizontal-tb"==a["c"].layout.elements[this.index].writingMode?a["c"].layout.elements[this.index].writingMode="vertical-rl":"vertical-rl"==a["c"].layout.elements[this.index].writingMode&&(a["c"].layout.elements[this.index].writingMode="horizontal-tb")}}},C=F,_=(n("486d"),Object(m["a"])(C,i,l,!1,null,"76696c65",null));t["default"]=_.exports}}]);