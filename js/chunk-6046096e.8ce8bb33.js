(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6046096e"],{1276:function(e,t,r){"use strict";var i=r("d784"),n=r("44e7"),a=r("825a"),l=r("1d80"),s=r("4840"),o=r("8aa5"),c=r("50c4"),u=r("14c3"),h=r("9263"),v=r("d039"),d=[].push,p=Math.min,g=4294967295,m=!v((function(){return!RegExp(g,"y")}));i("split",2,(function(e,t,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var i=String(l(this)),a=void 0===r?g:r>>>0;if(0===a)return[];if(void 0===e)return[i];if(!n(e))return t.call(i,e,a);var s,o,c,u=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,v+"g");while(s=h.call(m,i)){if(o=m.lastIndex,o>p&&(u.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&d.apply(u,s.slice(1)),c=s[0].length,p=o,u.length>=a))break;m.lastIndex===s.index&&m.lastIndex++}return p===i.length?!c&&m.test("")||u.push(""):u.push(i.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var n=l(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n,r):i.call(String(n),t,r)},function(e,n){var l=r(i,e,this,n,i!==t);if(l.done)return l.value;var h=a(e),v=String(this),d=s(h,RegExp),w=h.unicode,f=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(m?"y":"g"),x=new d(m?h:"^(?:"+h.source+")",f),b=void 0===n?g:n>>>0;if(0===b)return[];if(0===v.length)return null===u(x,v)?[v]:[];var C=0,S=0,y=[];while(S<v.length){x.lastIndex=m?S:0;var k,I=u(x,m?v:v.slice(S));if(null===I||(k=p(c(x.lastIndex+(m?0:S)),v.length))===C)S=o(v,S,w);else{if(y.push(v.slice(C,S)),y.length===b)return y;for(var O=1;O<=I.length-1;O++)if(y.push(I[O]),y.length===b)return y;S=C=k}}return y.push(v.slice(C)),y}]}),!m)},baa5:function(e,t,r){var i=r("23e7"),n=r("e58c");i({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},c171:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{key:e.vxShowPreview.id,staticClass:"max-mall-preview"},[r("div",{staticClass:"mall-preview"},[r("div",{staticClass:"mall-preview-top"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),r("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:this.whereFrom,expression:"this.whereFrom"}],attrs:{to:{path:"/mall/modelCenter"}}},[e._v("模板中心")]),r("el-breadcrumb-item",[e._v(e._s(this.whereFrom?e.vxShowPreview.name:e.whereFromName))])],1)],1),r("div",{staticClass:"mall-preview-container"},[r("div",{staticClass:"vx-mall-preview-image-bg"},[r("div",{ref:"prewDiv",staticClass:"mall-preview-container-left",style:{width:"300px",height:e.height+"px",backgroundColor:e.color}},[r("img",{staticClass:"mall-preview-container-left-img",attrs:{src:e.vxShowPreview.picUrl,alt:""}})])]),r("div",{staticClass:"mall-preview-container-right"},[r("div",{staticClass:"mall-preview-container-right-top"},[r("div",{staticClass:"mall-preview-container-right-top-top"},[r("div",[e._v(e._s(e.vxShowPreview.name))])]),r("div",{staticClass:"mall-preview-container-right-top-buttom"},[r("div",{staticClass:"mall-preview-container-right-top-buttom-btn edit",on:{click:e.goEditHandler}},[e._v("在线编辑")]),r("div",{staticClass:"mall-preview-container-right-top-buttom-btn like",class:1==this.userHasCollect?"image-disable":"",on:{click:function(t){return e.vxCollect(0,e.vxShowPreview.goodsId)}}},[e._v(e._s("0"==this.userHasCollect?"收藏":"已收藏"))])])])])])]),r("VxButtom")],1)},n=[],a=(r("baa5"),r("d3b7"),r("ac1f"),r("1276"),r("96cf"),r("1da1")),l=r("4ec3"),s=function(){return r.e("chunk-2d0b9624").then(r.bind(null,"335c"))},o={name:"vx-preview",data:function(){return{vxShowPreview:{},userHasCollect:0,whereFrom:!0,whereFromName:"精选海报模板",imgsArr:[],height:0,color:""}},components:{VxButtom:s},methods:{getQueryVariable:function(e,t){for(var r=t.lastIndexOf("?"),i=t.substring(r+1,t.length),n=i.split("&"),a=0;a<n.length;a++){var l=n[a].split("=");if(l[0]==e)return l[1]}return!1},getParams:function(e){var t=300,r=this.getQueryVariable("width",e),i=this.getQueryVariable("height",e);this.height=t*i/r,this.color=this.getQueryVariable("color",e)},goEditHandler:function(){var e=this.$router.resolve({path:"/design/"+this.vxShowPreview.goodsId}),t=e.href;window.open(t,"_blank")},vxCollect:function(e,t){var r=this,i={type:e,valueId:t};Object(l["a"])(i).then((function(e){if(0==e.errno){var t=r.$route.params.id,i={id:t};Object(l["i"])(i).then((function(e){r.userHasCollect=e.data.userHasCollect,r.vxShowPreview=e.data.info}))}}))},goodsDetail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.$route.params.id},t.next=3,Object(l["i"])(r).then((function(t){e.vxShowPreview=t.data.info,e.userHasCollect=t.data.userHasCollect}));case 3:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.whereFrom=e.$route.query.whereFrom,t.next=3,e.goodsDetail();case 3:e.getParams(e.vxShowPreview.picUrl);case 4:case"end":return t.stop()}}),t)})))()}},c=o,u=r("2877"),h=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=h.exports},e58c:function(e,t,r){"use strict";var i=r("fc6a"),n=r("a691"),a=r("50c4"),l=r("a640"),s=r("ae40"),o=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,h=l("lastIndexOf"),v=s("indexOf",{ACCESSORS:!0,1:0}),d=u||!h||!v;e.exports=d?function(e){if(u)return c.apply(this,arguments)||0;var t=i(this),r=a(t.length),l=r-1;for(arguments.length>1&&(l=o(l,n(arguments[1]))),l<0&&(l=r+l);l>=0;l--)if(l in t&&t[l]===e)return l||0;return-1}:c}}]);